<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>üíç Proposal Maker ‚Äî Light Pink Love Flow</title>
<meta name="description" content="A cute proposal-maker page: type names, reveal a poem, show 'I love you' in 40 languages, then ask the big question." />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --soft-pink: #ffc4e1;
    --accent-pink: #ff5eaa;
    --rich-pink: #ff85c2;
    --deep-burgundy: #1a0010;
    --text-light: #fffcfd;
    --glass: rgba(255,255,255,0.06);
    --card: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Arial; -webkit-font-smoothing:antialiased;}
  body{
    background: linear-gradient(135deg, var(--deep-burgundy) 0%, #30001f 42%, #fff0f6 100%);
    color:var(--text-light);
    text-align:center;
    padding:28px 14px;
  }

  /* Card */
  .card{
    max-width:920px;
    margin: 0 auto;
    border-radius:20px;
    padding:28px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,182,217,0.03));
    border: 1px solid rgba(255,255,255,0.06);
    box-shadow: 0 30px 60px rgba(0,0,0,0.35);
  }

  h1{font-weight:800; margin:0 0 6px; font-size:28px; letter-spacing:0.6px;}
  p.lead{margin:0 0 18px; color:#ffe7f3; font-size:14px}

  /* screens */
  .screen{display:none}
  .screen.active{display:block; animation:screenIn .7s ease both}
  @keyframes screenIn{from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:none}}

  .controls{display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin:12px 0}
  input[type="text"]{
    min-width:180px;
    padding:12px 14px;
    border-radius:12px;
    border:2px solid rgba(255,120,170,0.28);
    background:var(--card);
    color:var(--text-light);
    font-size:15px;
    outline:none;
  }
  input[type="text"]:focus{box-shadow:0 6px 18px rgba(255,90,160,0.12); border-color:var(--accent-pink)}

  .btn{
    border:0;
    padding:10px 16px;
    border-radius:12px;
    background: linear-gradient(180deg,var(--rich-pink),var(--accent-pink));
    color:var(--text-light);
    font-weight:600;
    cursor:pointer;
  }
  .btn:disabled{opacity:.5; cursor:not-allowed}

  .btn.secondary{
    background:transparent;
    border:1px solid rgba(255,255,255,0.06);
    font-weight:600;
  }

  .typewriter{
    display:inline-block;
    font-weight:700;
    color:var(--soft-pink);
    font-size:20px;
    white-space:pre-wrap;
    border-right:3px solid var(--rich-pink);
    padding-right:8px;
  }

  /* language grid */
  .langGrid{
    margin:18px auto 8px;
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:10px;
    max-width:880px;
    text-align:left;
    padding:12px;
    border-radius:10px;
    background:rgba(255,255,255,0.02);
  }
  .langGrid .item{opacity:0; transform:translateY(6px); animation:langIn .45s ease forwards}
  @keyframes langIn{to{opacity:1; transform:none}}

  .poemBox{
    margin:14px auto;
    max-width:720px;
    padding:18px;
    border-radius:12px;
    background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,120,170,0.03));
    color:#ffdfe9;
    font-style:italic;
    display:none;
    white-space:pre-wrap;
    line-height:1.5;
  }
  .poemBox.show{display:block; animation:poemIn .6s ease both}
  @keyframes poemIn{from{opacity:0; transform:scale(.995)} to{opacity:1; transform:none}}

  .center{display:flex; gap:10px; justify-content:center; margin-top:12px; flex-wrap:wrap}
  .celebrateText{font-size:36px; font-weight:900; color:var(--text-light); text-shadow:0 10px 30px rgba(255,80,150,0.25); margin:10px 0}

  /* floating effects */
  .floating{position:fixed; pointer-events:none; z-index:40}
  .heart{font-size:22px; opacity:.95}
  /* confetti style (simple squares) */
  .confetti{position:fixed; width:10px; height:10px; border-radius:3px; z-index:50; pointer-events:none}

  /* responsive tweaks */
  @media (max-width:520px){
    h1{font-size:22px}
    .typewriter{font-size:18px}
    input[type="text"]{min-width:140px}
  }
</style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="title">
    <h1 id="title">üíç Proposal Maker ‚Äî Light Pink Love Flow</h1>
    <p class="lead">Type both names, read the poem, show "I love you" in 40 languages ‚Äî then ask the big question.</p>

    <!-- SCREEN 1: Input -->
    <section id="screen-1" class="screen active" aria-hidden="false">
      <div style="margin-bottom:8px" class="typewriter" id="introText">Enter names to generate a romantic proposal ‚ú®</div>

      <div class="controls" aria-hidden="false">
        <input id="fromInput" type="text" placeholder="Your name (e.g. Ivan)" aria-label="Your name" />
        <input id="toInput" type="text" placeholder="Partner name (e.g. Abhika)" aria-label="Partner name" />
      </div>

      <div class="center">
        <button id="generateBtn" class="btn" aria-label="Generate proposal">Generate Proposal</button>
        <button id="exampleBtn" class="btn secondary" aria-label="Fill example">Try Example</button>
        <button id="copyBtn" class="btn secondary" aria-label="Copy link">Copy Page Link</button>
      </div>
      <div style="margin-top:10px; color:#ffdfe9; font-size:13px">Tip: If you open a generated link, names auto-fill. Music plays after a user interaction.</div>
    </section>

    <!-- SCREEN 2: Preview (languages + poem) -->
    <section id="screen-2" class="screen" aria-hidden="true">
      <div id="topMsg" class="typewriter" aria-live="polite"></div>

      <div style="margin-top:14px" class="center">
        <button id="readPoemBtn" class="btn secondary" aria-expanded="false">Read My Heart üìñ</button>
        <button id="askBtn" class="btn" disabled>Ask the Question</button>
        <button id="shareBtn" class="btn secondary">Share WhatsApp</button>
      </div>

      <div id="langGrid" class="langGrid" aria-hidden="false" role="list" style="margin-top:18px"></div>

      <div id="poemBox" class="poemBox" role="region" aria-label="Poem"></div>
    </section>

    <!-- SCREEN 3: Proposal ask -->
    <section id="screen-3" class="screen" aria-hidden="true">
      <div id="proposalText" class="typewriter" style="font-size:20px; display:block; max-width:880px; margin:14px auto;"></div>
      <div class="center" style="margin-top:18px">
        <button id="yesBtn" class="btn" aria-label="Yes I do">Yes ‚Äî marry me!</button>
        <button id="backBtn" class="btn secondary" aria-label="Go back">Think about it (Go Back)</button>
      </div>
    </section>

    <!-- SCREEN 4: Celebrate -->
    <section id="screen-4" class="screen" aria-hidden="true">
      <div class="celebrateText">She said YES üíçüíñ</div>
      <p style="color:#ffe7f3; margin-top:6px">Celebrate ‚Äî share the moment with friends and family.</p>
      <div class="center" style="margin-top:12px">
        <button id="shareCelebrateBtn" class="btn">Share Celebration</button>
        <button id="screenshotBtn" class="btn secondary">Save Screenshot</button>
        <button id="startOverBtn" class="btn secondary">Start New</button>
      </div>
    </section>
  </main>

  <!-- Hidden audio elements (play after user interaction to avoid autoplay block) -->
  <audio id="bgMusic" loop preload="auto">
    <source src="https://files.catbox.moe/0p8z4m.mp3" type="audio/mpeg">
  </audio>
  <audio id="celebrateMusic" loop preload="auto">
    <source src="https://files.catbox.moe/1j3k9p.mp3" type="audio/mpeg">
  </audio>

<script>
/* ---------------------- Data & DOM ---------------------- */
const iLoveYou = [
  {lang:'English', text:'I love you'},
  {lang:'Hindi', text:'‡§Æ‡•à‡§Ç ‡§§‡•Å‡§Æ‡§∏‡•á ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§§‡§æ/‡§ï‡§∞‡§§‡•Ä ‡§π‡•Ç‡§Å'},
  {lang:'Urdu', text:'ŸÖ€å⁄∫ ÿ™ŸÖ ÿ≥€í ŸÖÿ≠ÿ®ÿ™ ⁄©ÿ±ÿ™ÿß/⁄©ÿ±ÿ™€å €ÅŸà⁄∫'},
  {lang:'Bengali', text:'‡¶Ü‡¶Æ‡¶ø ‡¶§‡ßã‡¶Æ‡¶æ‡¶ï‡ßá ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶ø'},
  {lang:'Gujarati', text:'‡™π‡´Å‡™Ç ‡™§‡™®‡´á ‡™™‡´ç‡™∞‡´á‡™Æ ‡™ï‡™∞‡´Å‡™Ç ‡™õ‡´Å‡™Ç'},
  {lang:'Marathi', text:'‡§Æ‡•Ä ‡§§‡•Å‡§ù‡•ç‡§Ø‡§æ‡§µ‡§∞ ‡§™‡•ç‡§∞‡•á‡§Æ ‡§ï‡§∞‡§§‡•ã/‡§ï‡§∞‡§§‡•á'},
  {lang:'Tamil', text:'‡Æ®‡Ææ‡Æ©‡Øç ‡Æâ‡Æ©‡Øç‡Æ©‡Øà ‡Æï‡Ææ‡Æ§‡Æ≤‡Æø‡Æï‡Øç‡Æï‡Æø‡Æ±‡Øá‡Æ©‡Øç'},
  {lang:'Telugu', text:'‡∞®‡±á‡∞®‡±Å ‡∞®‡∞ø‡∞®‡±ç‡∞®‡•Å ‡∞™‡±ç‡∞∞‡±á‡∞Æ‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞®‡±Å'},
  {lang:'Kannada', text:'‡≤®‡≤æ‡≤®‡≥Å ‡≤®‡≤ø‡≤®‡≥ç‡≤®‡≤®‡≥ç‡≤®‡≥Å ‡≤™‡≥ç‡≤∞‡≥Ä‡≤§‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≥á‡≤®‡≥Ü'},
  {lang:'Malayalam', text:'‡¥û‡¥æ‡µª ‡¥®‡¥ø‡¥®‡µç‡¥®‡µÜ ‡¥∏‡µç‡¥®‡µá‡¥π‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ'},
  {lang:'Punjabi', text:'‡®Æ‡©à‡®Ç ‡®§‡©à‡®®‡©Ç‡©∞ ‡®™‡®ø‡®Ü‡®∞ ‡®ï‡®∞‡®¶‡®æ/‡®ï‡®∞‡®¶‡©Ä ‡®π‡®æ‡®Ç'},
  {lang:'Nepali', text:'‡§Æ ‡§§‡§ø‡§Æ‡•Ä‡§≤‡§æ‡§à ‡§Æ‡§æ‡§Ø‡§æ ‡§ó‡§∞‡•ç‡§õ‡•Å'},
  {lang:'Sinhala', text:'‡∂∏‡∂∏ ‡∂î‡∂∫‡∑è‡∂ß ‡∂Ü‡∂Ø‡∂ª‡∑ô‡∂∫‡∑í'},
  {lang:'Arabic', text:'ÿ£ÿ≠ÿ®ŸÉ'},
  {lang:'Turkish', text:'Seni seviyorum'},
  {lang:'French', text:'Je t\'aime'},
  {lang:'Spanish', text:'Te amo'},
  {lang:'German', text:'Ich liebe dich'},
  {lang:'Italian', text:'Ti amo'},
  {lang:'Tagalog', text:'Mahal kita'},
  {lang:'Indonesian', text:'Aku cinta kamu'},
  {lang:'Thai', text:'‡∏â‡∏±‡∏ô‡∏£‡∏±‡∏Å‡∏Ñ‡∏∏‡∏ì'},
  {lang:'Burmese', text:'·ÄÑ·Ä´·Äû·ÄÑ·Ä∑·Ä∫·ÄÄ·Ä≠·ÄØ·ÄÅ·Äª·ÄÖ·Ä∫·Äê·Äö·Ä∫'},
  {lang:'Korean', text:'ÏÇ¨ÎûëÌï¥Ïöî'},
  {lang:'Japanese', text:'ÊÑõ„Åó„Å¶„Çã'},
  {lang:'Chinese', text:'ÊàëÁà±‰Ω†'},
  {lang:'Russian', text:'–Ø —Ç–µ–±—è –ª—é–±–ª—é'},
  {lang:'Portuguese', text:'Eu te amo'},
  {lang:'Vietnamese', text:'Anh y√™u em / Em y√™u anh'},
  {lang:'Farsi', text:'ÿØŸàÿ≥ÿ™ÿ™ ÿØÿßÿ±ŸÖ'},
  {lang:'Hebrew', text:'◊ê◊†◊ô ◊ê◊ï◊î◊ë/◊™ ◊ê◊ï◊™◊ö'},
  {lang:'Swahili', text:'Nakupenda'},
  {lang:'Polish', text:'Kocham ciƒô'},
  {lang:'Dutch', text:'Ik hou van jou'},
  {lang:'Greek', text:'Œ£\'Œ±Œ≥Œ±œÄœé'},
  {lang:'Romanian', text:'Te iubesc'},
  {lang:'Czech', text:'Miluji tƒõ'},
  {lang:'Hungarian', text:'Szeretlek'},
  {lang:'Malay', text:'Saya cinta padamu'},
  {lang:'Bulgarian', text:'–û–±–∏—á–∞–º —Ç–µ'}
];

const poemText = `Tum chhodo bhii kuchh kehne ko..
Mein kehta huu mujhe kehne do..
Ek-tarfa ishq hii behtar hai..
Mai krta huu tum rehne do..`;

/* DOM */
const fromInput = document.getElementById('fromInput');
const toInput = document.getElementById('toInput');
const generateBtn = document.getElementById('generateBtn');
const exampleBtn = document.getElementById('exampleBtn');
const copyBtn = document.getElementById('copyBtn');

const screen1 = document.getElementById('screen-1');
const screen2 = document.getElementById('screen-2');
const screen3 = document.getElementById('screen-3');
const screen4 = document.getElementById('screen-4');

const topMsg = document.getElementById('topMsg');
const langGrid = document.getElementById('langGrid');
const poemBox = document.getElementById('poemBox');
const readPoemBtn = document.getElementById('readPoemBtn');
const askBtn = document.getElementById('askBtn');
const shareBtn = document.getElementById('shareBtn');

const proposalTextEl = document.getElementById('proposalText');
const yesBtn = document.getElementById('yesBtn');
const backBtn = document.getElementById('backBtn');

const shareCelebrateBtn = document.getElementById('shareCelebrateBtn');
const screenshotBtn = document.getElementById('screenshotBtn');
const startOverBtn = document.getElementById('startOverBtn');

const bgMusic = document.getElementById('bgMusic');
const celebrateMusic = document.getElementById('celebrateMusic');

let currentFrom = '';
let currentTo = '';
let poemRead = false;
let musicStarted = false;

/* ---------------------- Utilities ---------------------- */
function showScreen(num){
  [screen1, screen2, screen3, screen4].forEach(s => s.classList.remove('active'));
  [screen1, screen2, screen3, screen4].forEach(s => s.setAttribute('aria-hidden', 'true'));
  if(num === 1){ screen1.classList.add('active'); screen1.setAttribute('aria-hidden', 'false'); }
  if(num === 2){ screen2.classList.add('active'); screen2.setAttribute('aria-hidden', 'false'); }
  if(num === 3){ screen3.classList.add('active'); screen3.setAttribute('aria-hidden', 'false'); }
  if(num === 4){ screen4.classList.add('active'); screen4.setAttribute('aria-hidden', 'false'); }
}

/* Safely escape */
function esc(s){ return String(s || '').replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }

/* Typewriter: synchronous, returns a Promise */
function typewriter(text, el, speed=30){
  return new Promise(resolve => {
    el.innerHTML = '';
    let i = 0;
    function step(){
      if(i < text.length){
        const ch = text.charAt(i++);
        el.innerHTML += (ch === '\n' ? '<br>' : esc(ch));
        setTimeout(step, speed);
      } else resolve();
    }
    step();
  });
}

/* Copy text helper */
async function copyText(text){
  try{
    await navigator.clipboard.writeText(text);
    alert('Link copied to clipboard!');
  }catch(e){
    const ta = document.createElement('textarea');
    ta.value = text;
    document.body.appendChild(ta);
    ta.select();
    document.execCommand('copy');
    ta.remove();
    alert('Link copied to clipboard!');
  }
}

/* Generate a shareable URL (does not navigate) */
function updateShareURL(from, to){
  const base = location.origin + location.pathname;
  const params = new URLSearchParams({from, to});
  const url = `${base}?${params.toString()}`;
  history.replaceState(null, '', url);
  return url;
}

/* Play background music once after user action */
function startMusicOnce(){
  if(musicStarted) return;
  musicStarted = true;
  // attempt to play, ignore promise rejection (autoplay policy)
  bgMusic.currentTime = 0;
  bgMusic.play().catch(() => {/* ignored */});
}

/* Confetti & floating hearts (lightweight) */
function spawnConfetti(count = 40){
  for(let i=0;i<count;i++){
    const c = document.createElement('div');
    c.className = 'confetti';
    c.style.left = Math.random()*100 + 'vw';
    c.style.top = (-10 - Math.random()*30) + 'vh';
    c.style.width = (6 + Math.random()*12) + 'px';
    c.style.height = c.style.width;
    c.style.background = ['#ff6f9f','#ff006e','#00b3e6','#ffffff'][Math.floor(Math.random()*4)];
    c.style.opacity = 0.95;
    document.body.appendChild(c);
    // animate using CSS transitions
    const dur = 6 + Math.random()*6;
    c.animate([
      { transform: `translateY(0) rotate(0deg)`, opacity: 1 },
      { transform: `translateY(${110 + Math.random()*40}vh) rotate(${360 + Math.random()*720}deg)`, opacity: 0.6 }
    ], { duration: dur*1000, easing: 'cubic-bezier(.2,.8,.2,1)'});
    setTimeout(()=>c.remove(), (dur*1000) + 200);
  }
}
function spawnHearts(count = 12){
  for(let i=0;i<count;i++){
    const h = document.createElement('div');
    h.className = 'floating heart';
    h.innerText = ['üíû','üíó','üíï'][Math.floor(Math.random()*3)];
    h.style.left = (10 + Math.random()*80) + 'vw';
    h.style.top = (90 + Math.random()*10) + 'vh';
    document.body.appendChild(h);
    const dur = 10 + Math.random()*8;
    h.animate([
      { transform: 'translateY(0) scale(.9)', opacity: 0 },
      { transform: `translateY(-${40 + Math.random()*80}vh) scale(1)`, opacity: 1 },
      { transform: `translateY(-${140 + Math.random()*120}vh) scale(1.1)`, opacity: 0 }
    ], { duration: dur*1000, easing: 'linear' });
    setTimeout(()=>h.remove(), (dur*1000)+300);
  }
}

/* ---------------------- Build language grid (slow reveal) ---------------------- */
function buildLangGrid(){
  langGrid.innerHTML = '';
  const delayBetween = 110; // ms
  iLoveYou.forEach((it, idx) => {
    const node = document.createElement('div');
    node.className = 'item';
    node.setAttribute('role','listitem');
    node.style.animationDelay = (idx * 0.08) + 's';
    node.innerHTML = `<strong>${idx+1}. ${esc(it.lang)}:</strong> ${esc(it.text)}`;
    langGrid.appendChild(node);
  });
}

/* ---------------------- Event flows ---------------------- */

generateBtn.addEventListener('click', async () => {
  const f = (fromInput.value || '').trim();
  const t = (toInput.value || '').trim();
  if(!f || !t){ alert('Please enter both names.'); return; }

  currentFrom = f; currentTo = t;
  updateShareURL(currentFrom, currentTo);

  startMusicOnce(); // user interaction triggers play attempt
  showScreen(2);

  topMsg.innerText = '';
  await typewriter(`Hello ${t} ‚Äî a special message awaits.`, topMsg, 28);

  // populate language grid
  buildLangGrid();

  // enable Read Poem button (styling only)
  readPoemBtn.disabled = false;
  readPoemBtn.setAttribute('aria-expanded','false');

  // disable askBtn until poem read at least once
  askBtn.disabled = true;
  poemRead = false;
});

exampleBtn.addEventListener('click', () => {
  fromInput.value = 'Ivan';
  toInput.value = 'Abhika';
});

copyBtn.addEventListener('click', () => {
  const url = updateShareURL(fromInput.value || '', toInput.value || '');
  copyText(url);
});

/* Poem toggle */
readPoemBtn.addEventListener('click', async () => {
  // ensure music started
  startMusicOnce();

  poemBox.classList.toggle('show');
  const isNowShown = poemBox.classList.contains('show');
  readPoemBtn.setAttribute('aria-expanded', String(isNowShown));
  if(isNowShown){
    poemBox.innerText = ''; // use typewriter for poem
    await typewriter(poemText, poemBox, 60);
    poemRead = true;
    // unlock the ask button
    askBtn.disabled = false;
  } else {
    poemBox.innerText = '';
  }
});

/* Ask flow */
askBtn.addEventListener('click', async () => {
  if(!poemRead){
    alert('Please read the poem first.');
    return;
  }
  showScreen(3);
  // show final message with names escaped
  const final = `I L·¥è·¥†·¥á Y·¥è·¥ú!\nMy dearest ${esc(currentTo)}, from the moment I met you... Will you marry me and make ${esc(currentFrom)} the happiest person in the universe?`;
  await typewriter(final, proposalTextEl, 36);
});

/* back to start */
backBtn.addEventListener('click', () => {
  // go back to preview screen so they can read poem again
  showScreen(2);
});

/* yes -> celebrate */
yesBtn.addEventListener('click', () => {
  // stop background, play celebration music
  try{ bgMusic.pause(); } catch(e){}
  celebrateMusic.currentTime = 0;
  celebrateMusic.play().catch(()=>{});
  showScreen(4);
  spawnConfetti(80);
  spawnHearts(26);
});

/* share actions */
shareBtn.addEventListener('click', () => {
  const url = updateShareURL(currentFrom, currentTo);
  const message = `Hi ${currentTo || ''}! ${currentFrom || 'Someone'} has a special proposal for you üíñ Open here: ${url}`;
  window.open('https://wa.me/?text=' + encodeURIComponent(message), '_blank');
});
shareCelebrateBtn.addEventListener('click', () => {
  const url = updateShareURL(currentFrom, currentTo);
  const message = `She said YES! üíç ${currentFrom || ''} & ${currentTo || ''} ‚Äî Celebrate with us: ${url}`;
  window.open('https://wa.me/?text=' + encodeURIComponent(message), '_blank');
});

/* screenshot placeholder (desktop/mobile screenshot recommended) */
screenshotBtn.addEventListener('click', () => {
  alert('For best quality, use your device screenshot tools (mobile: power+volume). To programmatically save, include html2canvas and I can add a capture button.');
});

/* start over */
startOverBtn.addEventListener('click', () => {
  // reset state and URL
  currentFrom = ''; currentTo = '';
  fromInput.value = '';
  toInput.value = '';
  poemBox.innerText = '';
  poemBox.classList.remove('show');
  poemRead = false;
  updateShareURL('', '');
  try{ bgMusic.pause(); celebrateMusic.pause(); } catch(e){}
  showScreen(1);
});

/* ---------------------- Auto-fill from URL on load ---------------------- */
(function initFromURL(){
  const p = new URLSearchParams(location.search);
  const f = p.get('from'); const t = p.get('to');
  if(f) fromInput.value = f;
  if(t) toInput.value = t;
  if(f && t){
    // auto-generate preview after a short delay
    setTimeout(()=> generateBtn.click(), 350);
  }
})();

/* Accessibility: allow Enter key submit on inputs */
[fromInput, toInput].forEach(inp => {
  inp.addEventListener('keydown', (e) => {
    if(e.key === 'Enter') generateBtn.click();
  });
});
</script>
</body>
</html>